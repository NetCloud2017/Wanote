# TS 泛型

1.Vue3 源码充斥着大量的 TS 泛型。懂 TS 泛型是读懂 Vue3 源码不可逾越的环节。 2.前端各种技术的声明文件【d.ts 文件】TS 泛型更是随处可见【例如：小到一个 Array，ES6 的 Set，
Map，稍微复杂点的例如：Vue3 应用的声明文件，Vuex 底层的声明文件，React 组件声明文件，axios 声
明文件，这样的例子举不胜举。】 3.现在采用 TS 整合前端框架的大中项目越来越多，而 TS 泛型必然成了你必须攻克的核心技能。如果你近几
年在公司做过稍微大点的项目，你的感触会特别深刻。 4.后端 Nodejs 和 TS 整合的频次也越来越高，优秀的 Nestjs 框架就完全采用 TS 开发。
5.TS 语法是晋级高级前端工程师，拿更高薪水，面试加分不可逾越的学习环节，而泛型语法更是重重之重，
一句我能熟练解说 Vue3 源码中的 TypeScript 语法会为你的面试加分许多。

## 泛型类

- 为什么要用泛型类?

好处 1：编译期对类上调用方法或属性时的泛型类型进行安全检查(类型安全检查)，不符合泛型实际参数类型(泛型实参类型）就编译通不过，防止不符合条件的数据增加进来。

好处 2：一种泛型类型被具体化成某种数据类型后，该数据类型的变量获取属性和方法时会有自动提示，这无疑提高代码开发效率和减少出错率。

```ts
class ArrayList<T> {
	public index: number = 0;
    pulic element: Array<T>;
	constructor() {
        this.element = []
    }
    public checkIndex () {
        if(this.index < 0 ) {
            throw new Error('数组下标不能为零')
        }
    }
	public add(obj: T) {
        if(this.checkIndex())
		this.element[this.index++] = obj;
	}
	public get(index: number): object {
		return this.element[index];
	}
}
let stuone = { stuname: "wnagwu", age: 23 }
let stuTwo = { stuname: "lisi", age: 39 }
let stuThree = { stuname: "liuqi", age: 31 }
//let arrayList = new ArrayList([stuOne, stuTwo, stuThree]);
let arrayList = new ArrayList<string>();
let  arrayNumberList = new ArrayList<number>()
let  arrayObjList = new ArrayList<typeof stuOne>()
console.log(arrayList.get(0));

```

泛型一种参数化数据类型，具有以下特点的数据类型叫泛型：

特点一：定义时不明确使用时必须明确成某种具体数据类型的数据类型。

特点二：编译期间进行数据类型安全检查的数据类型。

特别注意：

    1.类型安全检查发生在编译期间
    2.泛型是参数化的数据类型，使用时明确化后的数据类型就是参数的值

```ts
c1ass 类名<泛型形参类型>泛型形参类型一般有两种表示：

    1.A-Z任何一个字母
    2.语义化的单词来表示，绝大多数情况，泛型都是采用第一种形式表示，如下：
class ArrayList<T> {
	array: Array<T>;
	add(data: T) {}
}
```

- 泛型的 any 化和泛型的默认值问题

```ts
class ArrayList<T=any> {
	array: Array<T>;
	add(data: T) {}
}
let arr = nwe ArrayList()
arr.add(2)


any 化是一种特殊的默认参数类型

class ArrayList<T={}> {
	array: Array<T>;
	add(data: T) {}
}
let objArr = new ArrayList()
```
